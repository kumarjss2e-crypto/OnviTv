# OnviTV - User Flow

## ðŸŽ¯ Navigation Structure

### Main Tabs (Bottom Navigation)
1. **Movies** (Default) - Browse admin-curated movies & series
2. **Live TV** - Watch admin-curated live channels
3. **My Playlist** - Access personal imported playlists
4. **More** - Settings, profile, playlist management

---

## ðŸ“± COMPLETE USER JOURNEY

### 1. FIRST TIME USER FLOW

#### A. App Launch
```
Splash Screen (2s with animated logo)
  â†“
Onboarding (3 swipeable screens)
  - Welcome to OnviTV
  - Browse Movies & Live TV
  - Add Your Personal Playlists
  â†“
Get Started Button
  â†“
Login/Signup Screen
```

#### B. Authentication
```
Login Screen
  â”œâ”€ Email/Password login
  â”œâ”€ "Forgot Password?" â†’ Password reset
  â””â”€ "Sign up now" â†’ Signup Screen

Signup Screen
  â”œâ”€ Full Name
  â”œâ”€ Email
  â”œâ”€ Password
  â”œâ”€ Confirm Password
  â””â”€ Create Account
      â†“
  Success â†’ Login
      â†“
  Navigate to Movies Tab
```

#### C. First Launch Experience
```
Movies Tab (Default landing)
  â†“
User sees admin-curated content immediately
  - Featured movies
  - Popular series
  - Categories
  â†“
No setup required - content ready to watch!
```

---

### 2. MOVIES TAB FLOW (Default Tab)

#### Screen Components

**A. Header**
- App logo
- Search icon â†’ SearchScreen
- Profile icon â†’ Profile

**B. Featured Section**
- Hero banner (admin-featured content)
- Play button â†’ VideoPlayer
- More Info â†’ MovieDetailScreen

**C. Categories**
- Action, Drama, Comedy, etc.
- Horizontal scrollable cards
- Tap card â†’ MovieDetailScreen

**D. Popular Movies**
- Grid of movie posters
- Tap â†’ MovieDetailScreen

**E. TV Series**
- Grid of series posters
- Tap â†’ SeriesDetailScreen

#### User Actions
```
Movies Tab
  â”œâ”€ Browse content
  â”œâ”€ Tap movie â†’ MovieDetailScreen
  â”‚   â”œâ”€ View details
  â”‚   â”œâ”€ Play â†’ VideoPlayer
  â”‚   â””â”€ Add to Favorites
  â”œâ”€ Tap series â†’ SeriesDetailScreen
  â”‚   â”œâ”€ View details
  â”‚   â”œâ”€ Select season/episode
  â”‚   â””â”€ Play â†’ VideoPlayer
  â””â”€ Search icon â†’ SearchScreen
```

#### Data Source
- **Collection**: `generalMovies`, `generalSeries`
- **Managed by**: Admin
- **Visible to**: All users (same content)

---

### 3. LIVE TV TAB FLOW

#### Screen Components

**A. Header**
- "Live TV" title
- Search icon
- Grid/List toggle

**B. Search Bar**
- Real-time search
- Filter channels

**C. Category Tabs**
- All, Sports, News, Entertainment, etc.
- Horizontal scrollable
- Dynamic from admin categories

**D. Channel Grid/List**
- Channel logo
- Channel name
- Current program (if EPG available)
- Tap â†’ VideoPlayer

#### User Actions
```
Live TV Tab
  â”œâ”€ Browse channels by category
  â”œâ”€ Search channels
  â”œâ”€ Toggle grid/list view
  â”œâ”€ Tap channel â†’ VideoPlayer
  â”‚   â”œâ”€ Watch live stream
  â”‚   â”œâ”€ Show controls (play/pause, seek)
  â”‚   â””â”€ Back button â†’ Return to Live TV
  â””â”€ Add to Favorites (optional)
```

#### Data Source
- **Collection**: `generalChannels`
- **Managed by**: Admin
- **Visible to**: All users (same channels)

---

### 4. MY PLAYLIST TAB FLOW

#### Screen Components

**A. Header**
- "My Playlist" title
- Add Playlist button (+)
- Settings icon â†’ PlaylistManagement

**B. Continue Watching**
- Horizontal scroll
- Resume from last position
- Progress bar on thumbnails

**C. My Favorites**
- User's favorited content
- From both general and personal content

**D. My Channels**
- Channels from user's imported playlists
- "See All" â†’ Full list

**E. My Movies**
- Movies from user's imported playlists
- "See All" â†’ Full list

**F. My Series**
- Series from user's imported playlists
- "See All" â†’ Full list

**G. My Playlists**
- List of user's M3U/Xtream playlists
- Tap â†’ EditPlaylist

**H. Empty State** (if no playlists)
- Icon and message
- "Add Playlist" button

#### User Actions
```
My Playlist Tab
  â”œâ”€ View personal content
  â”œâ”€ Continue watching â†’ Resume playback
  â”œâ”€ Browse my channels/movies/series
  â”œâ”€ Add Playlist button â†’ AddPlaylistScreen
  â”‚   â”œâ”€ Choose type (M3U or Xtream)
  â”‚   â”œâ”€ Enter details
  â”‚   â”œâ”€ Test connection
  â”‚   â””â”€ Save â†’ Parse playlist
  â”œâ”€ Manage playlists â†’ PlaylistManagement
  â”‚   â”œâ”€ View all playlists
  â”‚   â”œâ”€ Edit playlist
  â”‚   â”œâ”€ Delete playlist
  â”‚   â””â”€ Refresh playlist
  â””â”€ Play content â†’ VideoPlayer
```

#### Data Source
- **Collections**: `channels`, `movies`, `series`, `playlists`
- **Managed by**: User (import playlists)
- **Visible to**: Owner only (private)

---

### 5. MORE TAB FLOW

#### Screen Components

**A. Profile Section**
- User avatar
- Name and email
- Edit profile button

**B. Menu Items**
- My Playlists â†’ PlaylistManagement
- Favorites â†’ FavoritesScreen (optional)
- Downloads â†’ DownloadsScreen (optional)
- Watch History â†’ HistoryScreen (optional)
- Settings â†’ SettingsScreen
- Help & Support
- About
- Logout

#### User Actions
```
More Tab
  â”œâ”€ View profile
  â”œâ”€ My Playlists â†’ Manage playlists
  â”œâ”€ Favorites â†’ View favorites
  â”œâ”€ Settings â†’ Configure app
  â”‚   â”œâ”€ Video quality
  â”‚   â”œâ”€ Notifications
  â”‚   â”œâ”€ Language
  â”‚   â””â”€ Clear cache
  â”œâ”€ Help & Support â†’ FAQ, Contact
  â””â”€ Logout â†’ Return to Login
```

---

### 6. VIDEO PLAYER FLOW

#### Player Features

**A. Controls** (auto-hide after 3s)
- Back button (always visible)
- Play/Pause button
- Rewind 10s button
- Forward 10s button
- Seek bar (for VOD)
- Time display
- Live indicator (for channels)

**B. Error Handling**
- Auto-retry on failure (up to 5 attempts)
- Error overlay with retry button
- YouTube-style error display

**C. Progress Tracking**
- Save progress every 30s
- Resume from last position
- Mark completed at 90%

#### User Actions
```
VideoPlayer
  â”œâ”€ Watch content
  â”œâ”€ Tap screen â†’ Show/hide controls
  â”œâ”€ Play/Pause
  â”œâ”€ Rewind/Forward 10s
  â”œâ”€ Seek (VOD only)
  â”œâ”€ Back button â†’ Return to previous screen
  â””â”€ On error â†’ Auto-retry or manual retry
```

---

### 7. SEARCH FLOW (Future)

```
Search Icon (any tab)
  â†“
SearchScreen
  â”œâ”€ Search bar
  â”œâ”€ Recent searches
  â”œâ”€ Search in:
  â”‚   â”œâ”€ General Movies
  â”‚   â”œâ”€ General Series
  â”‚   â”œâ”€ General Channels
  â”‚   â”œâ”€ My Movies
  â”‚   â”œâ”€ My Series
  â”‚   â””â”€ My Channels
  â”œâ”€ Results by category
  â””â”€ Tap result â†’ Detail screen or VideoPlayer
```

---

## ðŸ”„ RETURNING USER FLOW

```
App Launch
  â†“
Auto-login (if session valid)
  â†“
Movies Tab (Default)
  â”œâ”€ Browse general content
  â”œâ”€ OR switch to Live TV
  â”œâ”€ OR switch to My Playlist
  â””â”€ Continue watching from last position
```

---

## ðŸ“Š CONTENT SOURCES SUMMARY

| Tab | Content Type | Collection | Managed By | Visibility |
|-----|--------------|------------|------------|------------|
| Movies | General | `generalMovies`, `generalSeries` | Admin | All users |
| Live TV | General | `generalChannels` | Admin | All users |
| My Playlist | Personal | `channels`, `movies`, `series` | User | Owner only |

---

## ðŸŽ¯ KEY USER FLOWS

### Flow 1: Watch General Content (No Setup)
```
Login â†’ Movies Tab â†’ Browse â†’ Play â†’ Watch
```

### Flow 2: Add Personal Playlist
```
Login â†’ My Playlist Tab â†’ Add Playlist â†’ Enter M3U URL â†’ Save â†’ Parse â†’ Watch
```

### Flow 3: Continue Watching
```
Login â†’ My Playlist Tab â†’ Continue Watching â†’ Resume â†’ Watch
```

### Flow 4: Search and Watch
```
Any Tab â†’ Search Icon â†’ Type query â†’ Select result â†’ Play â†’ Watch
```

---

## âœ¨ USER EXPERIENCE HIGHLIGHTS

1. **Instant Access**: Users can watch general content immediately without setup
2. **Dual Content**: Both curated (general) and personal (imported) content
3. **Seamless Playback**: Auto-retry, progress tracking, resume functionality
4. **Intuitive Navigation**: Clear separation between general and personal content
5. **Flexible**: Users can choose to only use general content or add their own playlists

---

**Last Updated**: November 1, 2025
**Version**: 2.0 (Reflects new platform structure)
